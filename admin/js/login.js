!function(t){"use strict";t(function(){var e=t(".auth-login-form");function a(t,e){var a=t.find("button"),r=a.find("span").first(),n=a.find("span").last();if("loading"==e)return a.attr("disabled",!0),r.removeClass("d-none"),n.text("Loading..."),void n.addClass("ml-25");a.removeAttr("disabled"),r.addClass("d-none"),n.text("Connect"),n.removeClass("ml-25")}function r(t,e,a){var r=e?"alert-danger":"alert-success";t.addClass(r),t.find(".alert-body").html(a),t.show()}e.length&&e.validate({rules:{"jt-auth-username":{required:!0,email:!0},"jt-auth-password":{required:!0}}}),t(".form-password-toggle .input-group-text").on("click",function(e){e.preventDefault();var a=t(this),r=a.closest(".form-password-toggle"),n=a,s=r.find("input");"text"===s.attr("type")?(s.attr("type","password"),feather&&n.find("svg").replaceWith(feather.icons.eye.toSvg({class:"font-small-4"}))):"password"===s.attr("type")&&(s.attr("type","text"),feather&&n.find("svg").replaceWith(feather.icons["eye-off"].toSvg({class:"font-small-4"})))}),t(".auth-login-form").submit(function(e){e.preventDefault();var n,s=t("#connectMessage");(n=s).removeClass("alert-success alert-danger"),n.hide();var o=t(this);if(o.valid()){var i=t("#jt-auth-username").val(),d=t("#jt-auth-password").val(),l=window.btoa(i+":"+d);a(o,"loading"),t.ajax({type:"POST",url:loginURL,headers:{Authorization:"Basic "+l}}).done(function(e){if(e.errormsg||e.status)return a(o),void r(s,!0,e.errormsg||200!==e.status&&"Email or Password is incorrect. Please try again.");t.ajax({type:"POST",data:"cred="+l,url:"admin.php?page=jt-woocommerce&save_account=1",encode:!0}).done(function(t){a(o),r(s,!1,"Login successfully!");var e=window.location.href.replace("tab=login","tab=orders&sub_tab=domestic");window.location.href=e}).fail(function(t){a(o),r(s,!0,t)})}).fail(function(t){a(o),r(s,!0,t)})}}),t("#create-new-merchant-modal").on("shown.bs.modal",function(){t(this).find("iframe").attr("src","https://share.hsforms.com/1R3rHbrmWRJiFZWiMlMTFqg3d80h")}),t("#create-new-merchant-modal").on("hidden.bs.modal",function(){t(this).find("iframe").attr("src","")})})}(jQuery);